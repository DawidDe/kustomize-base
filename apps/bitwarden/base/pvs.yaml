---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: bitwarden-dataprotection-pv
  namespace: bitwarden
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-2"
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteMany
  persistentVolumeReclaimPolicy: Delete
  storageClassName: bitwarden-dataprotection
  hostPath:
    path: /var/mnt/zfs/bitwarden/dataprotection
    type: DirectoryOrCreate
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: bitwarden-attachments-pv
  namespace: bitwarden
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-2"
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteMany
  persistentVolumeReclaimPolicy: Delete
  storageClassName: bitwarden-attachments
  hostPath:
    path: /var/mnt/zfs/bitwarden/attachments
    type: DirectoryOrCreate
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: bitwarden-licenses-pv
  namespace: bitwarden
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-2"
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteMany
  persistentVolumeReclaimPolicy: Delete
  storageClassName: bitwarden-licenses
  hostPath:
    path: /var/mnt/zfs/bitwarden/licenses
    type: DirectoryOrCreate
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: bitwarden-logs-pv
  namespace: bitwarden
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-2"
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteMany
  persistentVolumeReclaimPolicy: Delete
  storageClassName: bitwarden-logs
  hostPath:
    path: /var/mnt/zfs/bitwarden/logs
    type: DirectoryOrCreate
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: bitwarden-myssql-backups-pv
  namespace: bitwarden
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-2"
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Delete
  storageClassName: bitwarden-myssql-backups
  hostPath:
    path: /var/mnt/zfs/bitwarden/myssql/backups
    type: DirectoryOrCreate
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: bitwarden-myssql-data-pv
  namespace: bitwarden
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-2"
spec:
  capacity:
    storage: 10Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Delete
  storageClassName: bitwarden-myssql-data
  hostPath:
    path: /var/mnt/zfs/bitwarden/myssql/data
    type: DirectoryOrCreate
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: bitwarden-myssql-log-pv
  namespace: bitwarden
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-2"
spec:
  capacity:
    storage: 10Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Delete
  storageClassName: bitwarden-myssql-log
  hostPath:
    path: /var/mnt/zfs/bitwarden/myssql/log
    type: DirectoryOrCreate